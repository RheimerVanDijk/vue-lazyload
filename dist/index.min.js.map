{"version":3,"file":"index.min.js","sources":["../src/index.js"],"sourcesContent":["function urlCheck(url, errorImage) {\r\n  //checks if url exists and returns correct image or error image\r\n  const image = url;\r\n  const errorImg = errorImage;\r\n  let request = new XMLHttpRequest();\r\n  request.open(\"GET\", image, false);\r\n  request.send();\r\n  if (request.status == 200) {\r\n    return image;\r\n  } else {\r\n    return errorImg;\r\n  }\r\n}\r\n\r\nexport default {\r\n  install(Vue, options) {\r\n    let margin = \"0px 0px 100px 0px\";\r\n    let fadeIn = false;\r\n    let directive = \"lazyLoad\";\r\n    let errorLoadImage = false;\r\n    if (options) {\r\n      margin = options.margin ? options.margin : \"0px 0px 100px 0px\";\r\n      fadeIn = options.fadeIn ? options.fadeIn : false;\r\n      directive = options.directive ? options.directive : \"lazyLoad\";\r\n      errorLoadImage = options.errorImg ? options.errorImg : false;\r\n      if (options.cssAnimate) {\r\n        const animateCss = document.createElement(\"link\");\r\n        animateCss.rel = \"text/css\";\r\n        animateCss.href =\r\n          \"https://cdnjs.cloudflare.com/ajax/libs/animate.css/3.7.2/animate.min.css\";\r\n        document.head.appendChild(animateCss);\r\n\r\n        fadeIn = false;\r\n      }\r\n    }\r\n    Vue.directive(directive, {\r\n      bind(el, binding) {\r\n        if (fadeIn) {\r\n          el.style.opacity = \"0\";\r\n          el.style.transition = fadeIn;\r\n        }\r\n        const observer = new IntersectionObserver(\r\n          (entries, observer) => {\r\n            entries.forEach(entry => {\r\n              if (entry.isIntersecting) {\r\n                if (binding.value.animation) {\r\n                  el.src = urlCheck(binding.value.url, errorLoadImage);\r\n                  if (options.cssAnimate) {\r\n                    el.classList.add(\"animated\", ...binding.value.animation);\r\n                  }\r\n                } else {\r\n                  el.src = urlCheck(binding.value, errorLoadImage);\r\n                }\r\n                fadeIn ? (el.style.opacity = \"1\") : null;\r\n                observer.unobserve(entry.target);\r\n              }\r\n            });\r\n          },\r\n          { rootMargin: margin }\r\n        );\r\n        observer.observe(el);\r\n      }\r\n    });\r\n  }\r\n};\r\n"],"names":["urlCheck","url","errorImage","image","errorImg","request","XMLHttpRequest","open","send","status","install","Vue","options","margin","fadeIn","directive","errorLoadImage","cssAnimate","animateCss","document","createElement","rel","href","head","appendChild","bind","el","binding","style","opacity","transition","IntersectionObserver","entries","observer","forEach","entry","isIntersecting","value","animation","src","classList","add","unobserve","target","rootMargin","observe"],"mappings":";;;;;8dAAA,SAASA,SAASC,EAAKC,OAEfC,EAAQF,EACRG,EAAWF,EACbG,EAAU,IAAIC,sBAClBD,EAAQE,KAAK,MAAOJ,GAAO,GAC3BE,EAAQG,OACc,KAAlBH,EAAQI,OACHN,EAEAC,EAIX,UAAe,CACbM,iBAAQC,EAAKC,OACPC,EAAS,oBACTC,GAAS,EACTC,EAAY,WACZC,GAAiB,KACjBJ,IACFC,EAASD,EAAQC,OAASD,EAAQC,OAAS,oBAC3CC,IAASF,EAAQE,QAASF,EAAQE,OAClCC,EAAYH,EAAQG,UAAYH,EAAQG,UAAY,WACpDC,IAAiBJ,EAAQR,UAAWQ,EAAQR,SACxCQ,EAAQK,YAAY,KAChBC,EAAaC,SAASC,cAAc,QAC1CF,EAAWG,IAAM,WACjBH,EAAWI,KACT,2EACFH,SAASI,KAAKC,YAAYN,GAE1BJ,GAAS,EAGbH,EAAII,UAAUA,EAAW,CACvBU,cAAKC,EAAIC,GACHb,IACFY,EAAGE,MAAMC,QAAU,IACnBH,EAAGE,MAAME,WAAahB,GAEP,IAAIiB,qBACnB,SAACC,EAASC,GACRD,EAAQE,QAAQ,SAAAC,MACVA,EAAMC,eAAgB,UACpBT,EAAQU,MAAMC,cAChBZ,EAAGa,IAAMvC,SAAS2B,EAAQU,MAAMpC,IAAKe,GACjCJ,EAAQK,cACVS,EAAGc,WAAUC,aAAI,sCAAed,EAAQU,MAAMC,kBAGhDZ,EAAGa,IAAMvC,SAAS2B,EAAQU,MAAOrB,GAEnCF,IAAUY,EAAGE,MAAMC,QAAU,KAC7BI,EAASS,UAAUP,EAAMQ,YAI/B,CAAEC,WAAY/B,IAEPgC,QAAQnB"}